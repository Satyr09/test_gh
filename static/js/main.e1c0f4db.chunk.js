(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{63:function(e,t,a){e.exports=a(85)},68:function(e,t,a){},69:function(e,t,a){},82:function(e,t,a){e.exports=a.p+"static/media/weather.78c30879.svg"},83:function(e,t,a){e.exports=a.p+"static/media/thank.8f62010a.svg"},84:function(e,t,a){e.exports=a.p+"static/media/topContributors.aebbf662.svg"},85:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),i=a.n(r),s=(a(68),a(55)),l=a(28),c=a(59),u=a(56),d=a(58),p=(a(69),{progressBar:{height:"15px",borderRadius:"4px"},progressBarInner:{backgroundColor:"#e5346f"},donateInput:{backgroundColor:"rgba(229,52,111,0.5)",padding:"5px 5px 5px 5px",color:"black",marginBottom:"5%",fontWeight:"400"},donateButton:{backgroundColor:"#e5346f",fontWeight:"800",height:"80px",color:"#131212",fontSize:"38px",letterSpacing:"10px",fontFamily:'"Viga", sans-serif',"&:hover":{backgroundColor:"#131212",color:"#e5346f"}},secondButton:{backgroundColor:"#e5346f",fontWeight:"800",color:"#131212","@media screen and (min-width: 283px)":{marginLeft:"30px"},"@media screen and (max-width: 282px)":{marginTop:"10px",marginLeft:"0"}},paper:{position:"absolute",width:"50vw",maxWidth:"300px",backgroundColor:"white",padding:"5% 5% 5% 5%","-webkit-box-shadow":"3px 4px 7px 2px #000000",boxShadow:" 3px 4px 7px 2px #000000",outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},waitModal:{position:"absolute",width:"50vw",maxWidth:"300px",backgroundColor:"white",padding:"5% 5% 5% 5%","-webkit-box-shadow":"3px 4px 7px 2px #000000",boxShadow:" 3px 4px 7px 2px #000000",outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},CircularProgress:{margin:"0 auto",marginTop:"10px"},table:{maxWidth:"400px","@media (max-width: 800px)":{textAlign:"left",flex:"0 0 100%"}}}),m=a(123),h=a(132),g=a(134),f=a(122),v=a(124),w=a(125),E=a(126),b=a(127),x=a(128),y=a(131),k=a(129),N=a(133),C=a(87),B=a(130),T=a(88),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).initClient=function(){window.gapi.client.init({apiKey:"AIzaSyBW2wZHMfTJuBlETTRqAm_ANBiVhjaKRCI",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],clientId:"703354497206-vapa60v5f1h3ouhc2gqisig3285kpnru.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/spreadsheets"}).then(function(){a.load(a.onLoad)})},a.onLoad=function(e,t){if(e){var n=e.info,o=Number(0),r={},i=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;o+=Number(d.amount),r[d.country]=(r[d.country]||0)+1}}catch(m){s=!0,l=m}finally{try{i||null==u.return||u.return()}finally{if(s)throw l}}var p=o/10;a.setState({count:n.length,info:n,totalSum:o,percentage:p,topCountries:r})}else a.setState({error:t})},a.load=function(e){window.gapi.client.load("sheets","v4",function(){window.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1dQDW5W7BOD1FAdxuw1zTEOc7JdgDtgbziFMlim_Ytq8",range:"Sheet1!A1:T"}).then(function(t){var a=t.result.values.map(function(e){return{amount:e[0],country:e[1],time:e[2]}})||[];e({info:a})},function(t){e(!1,t.result.error)})})},a.handleChange=function(e){var t=e.target.value;a.setState({amount:t})},a.handleSubmit=function(e){a.state.percentage>=100||(isNaN(a.state.amount)?alert("Not a valid input",a.state.amount):window.gapi.auth2.getAuthInstance().isSignedIn.get()?a.update():window.gapi.auth2.getAuthInstance().signIn().then(function(e){return a.update()}))},a.update=function(){var e;a.setState({processing:!0}),fetch("https://api.ipify.org?format=json").then(function(e){return e.json()}).then(function(e){return fetch("http://ip-api.com/json/".concat(e.ip),{Accept:"application/json"})}).then(function(e){return e.json()}).then(function(t){var n=[],o=[];n.push(a.state.amount,t.country,Date.now().toLocaleString()),o.push(n),e={values:o}}).then(function(t){window.gapi.client.sheets.spreadsheets.values.append({spreadsheetId:"1dQDW5W7BOD1FAdxuw1zTEOc7JdgDtgbziFMlim_Ytq8",range:"Sheet1!A1:T",valueInputOption:"USER_ENTERED",resource:e}).then(function(e){a.setState({processing:!1,hasContributed:!0},function(e){a.load(a.onLoad)})})})},a.scroll=function(){window.scrollTo(0,a.donateRef.current.offsetTop)},a.state={completed:"80"},a.donateRef=o.a.createRef(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.gapi.load("client:auth2",this.initClient)}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"landingBackground"},o.a.createElement("div",{className:"landingBackgroundProgress"},o.a.createElement(g.a,{TransitionComponent:f.a,title:"".concat(10*Number(0|this.state.percentage),"$ raised of 1000$ goal")},o.a.createElement(m.a,{variant:"determinate",value:this.state.percentage?this.state.percentage>=100?100:this.state.percentage:0,classes:{root:t.progressBar,barColorPrimary:t.progressBarInner}}))),o.a.createElement("div",{className:"landingBackgroundMid"},o.a.createElement("div",{className:"landingBackgroundContentHolder"},o.a.createElement("div",{className:"landingBackgroundText",styles:"text-align:left"},"Donate to solve the issue of ",o.a.createElement("br",null),o.a.createElement("span",{className:"specialText"},"Water crisis")," in India",o.a.createElement("br",null),o.a.createElement("span",{className:"specialSmallText"},"Millions of Indians would have no access to drinking water by 2020.Donate a small amount to help solve this issue")),o.a.createElement("div",{className:"landingBackgroundAction"},o.a.createElement(h.a,{variant:"contained",component:"span",size:"large"},"Know More"),o.a.createElement(h.a,{variant:"contained",component:"span",size:"large",className:t.secondButton,onClick:this.scroll},"Donate"))),o.a.createElement("div",{className:"landingBackgroundImage"},o.a.createElement("img",{src:a(82),alt:"water"})))),this.state.percentage>=100?o.a.createElement("div",{className:"successWrapper"},o.a.createElement("p",null,"We have reached our goal!",o.a.createElement("br",null),"We will no longer be accepting donations.",o.a.createElement("br",null))):o.a.createElement("span",null),o.a.createElement("div",{className:"imploreArea"},this.state.hasContributed?o.a.createElement("div",{className:"thankContribution"},o.a.createElement("img",{src:a(83),alt:"love"}),o.a.createElement("div",{className:"thankContributionText"},"Thank you!",o.a.createElement("br",null),"Your contribution will go a long way!")):this.state.count?o.a.createElement("div",{className:"imploreTextWrapper"},"Join"," ",o.a.createElement("span",{className:"specialTextCount"},this.state.count," "),"other donors who have already supported this project",o.a.createElement("br",null),"Every dollar helps!"):"",this.state.topCountries?o.a.createElement(v.a,{className:t.table},o.a.createElement(w.a,null,o.a.createElement(E.a,null,o.a.createElement("p",null,o.a.createElement("img",{src:a(84),style:{width:"70px"},alt:"top"}),"Top Contributors"," ")),o.a.createElement(E.a,null,o.a.createElement(b.a,null,"Country"),o.a.createElement(b.a,{align:"right"},"Donors"))),o.a.createElement(x.a,null,Object.keys(this.state.topCountries).map(function(t,a){return o.a.createElement(E.a,{key:a},o.a.createElement(b.a,{component:"th",scope:"row"},t),o.a.createElement(b.a,{align:"right"},e.state.topCountries[t]))}))):o.a.createElement("span",null)),o.a.createElement("div",{className:"donateArea",ref:this.donateRef},o.a.createElement("div",{className:"donateAmountWrapper"},o.a.createElement(y.a,{id:"filled-adornment-amount",variant:"filled",label:"Amount",disabled:this.state.percentage>=100,required:!0,className:t.donateInput,value:this.state.amount,defaultValue:"0",onChange:this.handleChange,InputProps:{startAdornment:o.a.createElement(k.a,{position:"start"},"$")}})),o.a.createElement("div",{className:"donateButtonWrapper"},o.a.createElement(h.a,{variant:"contained",color:"primary",className:t.donateButton,onClick:this.handleSubmit},"Donate"))),o.a.createElement("div",{className:"authorArea"},"Made by Daipayan Mukherjee"),o.a.createElement(N.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.processing||!1},o.a.createElement("div",{className:t.waitModal},o.a.createElement(C.a,{variant:"h6",id:"modal-title"},"Please wait while your donation is being processed"),o.a.createElement(B.a,{className:t.CircularProgress,color:"secondary"}))))}}]),t}(o.a.Component),S=Object(T.a)(p)(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[63,1,2]]]);
//# sourceMappingURL=main.e1c0f4db.chunk.js.map